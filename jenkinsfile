pipeline {

    agent any


    stages {

        stage('Clone') {

            steps {

                script {

                    git branch: 'main', credentialsId: 'ssh', url: 'https://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@github.com/nidhal19615/nodejs.git'

                }

            }

        }

        

        stage('Build') {

            steps {

                script {

                    sh 'npm install'  // Exécutez les étapes de construction de votre projet ici

                }

            }

        }


        stage('Test') {

            steps {

                script {

                    sh 'npm test'  // Exécutez des tests si nécessaire

                }

            }

        }


        stage('Push') {

            steps {

                script {

                    sh 'npm publish'  // Poussez le package Node.js vers le registre npm

                }

            }

        }


        // Vous pouvez ajouter d'autres étapes ici en fonction de vos besoins


    }

}

